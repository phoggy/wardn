<button id="theme-toggle" class="btn"></button>

<script>
  (function () {
    function currentTheme() {
      return document.documentElement.getAttribute('data-scheme') || 'dark';
    }

    function init() {
      var btn = document.getElementById('theme-toggle');
      if (!btn || typeof jtd === 'undefined') return;

      function updateLabel() {
        btn.textContent = currentTheme() === 'dark' ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';
      }

      btn.addEventListener('click', function () {
        jtd.setTheme(currentTheme() === 'dark' ? 'light' : 'dark');
        updateLabel();
      });

      updateLabel();
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  })();
</script>
